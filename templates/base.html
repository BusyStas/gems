<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    {% include 'includes/meta_tags.html' %}
    
    <title>{% block title %}{{ config.SITE_NAME }}{% endblock %}</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}?v=20251121d">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Site Header with Logo and Navigation -->
    <header class="site-header">
        <a href="{{ url_for('main.index') }}" class="logo-link" aria-label="Home">
            <img src="{{ url_for('static', filename='images/logo/logo-transparent-cropped.png') }}" alt="{{ config.SITE_NAME }} Logo" class="site-logo">
            <span class="site-title">Gems Hub</span>
        </a>
        
        <!-- Top Navigation Menu -->
        <nav class="top-nav-inline" role="navigation" aria-label="Top navigation">
            {% for item in menu_items %}
                <a href="{{ item.url }}" class="top-nav-link {% if request.path.startswith(item.url) and item.url != '/' %}active{% elif request.path == '/' and item.url == '/' %}active{% endif %}">
                    {{ item.title }}
                </a>
                {% if not loop.last %}
                    <span class="nav-separator">|</span>
                {% endif %}
            {% endfor %}
            <span style="margin-left:auto; display:flex; gap:0.5rem; align-items:center;">
                {% if user_logged_in %}
                    <a href="{{ url_for('profile.show_profile') }}" class="top-nav-link">Profile{% if current_user and current_user.name %} ({{ current_user.name }}){% endif %}</a>
                    <a href="{{ url_for('auth.logout') }}" class="top-nav-link">Logout</a>
                {% else %}
                    <a href="{{ url_for('auth.login') }}" class="top-nav-link">Sign in</a>
                {% endif %}
            </span>
        </nav>
    </header>
    
    <!-- Main Container -->
    <div class="container">
        <!-- Mobile Overlay -->
        <div class="mobile-overlay" id="mobile-overlay"></div>
        
        <!-- Sidebar Menu -->
        {% include 'includes/side_menu.html' %}
        
        <!-- Main Content -->
        <main class="main-content" id="main-content">
            <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            {% block content %}{% endblock %}
        </main>
    </div>
    
    <!-- Disclaimer -->
    {% include 'includes/disclaimer.html' %}
    
    <script src="{{ url_for('static', filename='js/main.js') }}?v=20251121b"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
